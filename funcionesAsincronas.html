<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta content="width=device-width,initial-scale=1" name="viewport" />
    <meta content="IE=edge" http-equiv="X-UA-Compatible" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
      crossorigin="anonymous"
    />

    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/glightbox/dist/css/glightbox.min.css"
    />
    <script src="https://cdn.jsdelivr.net/gh/mcstudios/glightbox/dist/js/glightbox.min.js"></script>

    <title>Asincronia</title>
  </head>

  <body>
    <header></header>

    <div class="form-group">
      <form>
        <legend>Sumar 2 números</legend>
        <br />

        <label>Introduce un número</label>
        <input type="number" id="number1" required />
        <br />

        <label>Introduce otro número</label>
        <input type="number" id="number2" required />
        <br />
      </form>
      <br />

      <button type="button" id="send" class="btn btn-secondary">Sumar</button>
    </div>

    <div>

        <legend id="legend"></legend>

        <h2 id="sum" style="color: blue;"></h3>
    </div>

    <script type="text/javascript">
      const btnSum = document.getElementById("send");
      const number1 = document.getElementById("number1");
      const number2 = document.getElementById("number2");
      const h2Forsum = document.getElementById("sum");
      const legendMessage = document.getElementById("legend");
      const handlerClick = () =>  {sumar(number1, number2, showResult)}

      btnSum.addEventListener("click", handlerClick);

      function sumar(num1, num2, callback) {
        let clickMessage = document.createTextNode("El resultado aparecerá dentro de 10 segundos:");

        legend.append(clickMessage);

        setTimeout(() => {
          let value1 = num1.value;
          let value2 = num2.value;

          const suma = Number(value1) + Number(value2);

          callback(suma);
        }, 10000);
      }

      function showResult(result) {
        let stringSum = result.toString();
        let text = document.createTextNode(stringSum);
    
        h2Forsum.append(text);
      }
    </script>
  </body>
</html>
